apply plugin: 'java'

defaultTasks 'fatJar'

sourceCompatibility = 1.8
targetCompatibility = 1.8

version = '1.0.1'

sourceSets {
    main.java.srcDirs 'src'
    main.resources.srcDirs 'res'
}

dependencies {
    implementation files('lib/Bitmap-Utility-1.2.0-wip.jar')
    implementation files('lib/VulcDataFormat-2.0.0.jar')
}

task source(type: Jar, dependsOn: classes) {
    classifier = 'sources'
    from sourceSets.main.allSource

    from 'ENGINE-LICENSE'
}

task fatJar(type: Jar) {
    manifest {
        attributes 'Main-Class': 'vulc.dantegame.Game'
    }

    from { configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}
